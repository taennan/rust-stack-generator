project: SmartSite
project_prefix: SS
entities:
  - name: AdminApiKey
    fields:
      id: Uuid
      hash: String
      created: NaiveDateTime
  - name: Site
    fields:
      id: Uuid
      name: String
      description: String
      created: NaiveDateTime
      updated: NaiveDateTime
  - name: SiteSettings
    fields:
      id: Uuid
      site_id: Uuid
      # Enum { DISABLED, ENABLED, LOCKED }
      comments_status: String
      # Enum { DISABLED, ENABLED, LOCKED }
      reviews_status: String
      created: NaiveDateTime
      updated: NaiveDateTime
  - name: SiteUser
    fields:
      id: Uuid
      site_id: Uuid
      auth_id: Uuid
      name: String
      email: String
      description: String
      created: NaiveDateTime
      updated: NaiveDateTime
  - name: PublicUser
    fields:
      id: Uuid
      auth_id: Uuid
      name: String
      email: String
      description: String
      created: NaiveDateTime
      updated: NaiveDateTime
  - name: UserAuth
    fields:
      id: Uuid
      password_hash: String
      access_token: Option<String>
      refresh_token: Option<String>
      created: NaiveDateTime
      updated: NaiveDateTime
  - name: Post
    fields:
      id: Uuid
      author_id: Uuid
      site_id: Uuid
      title: String
      subtitle: String
      created: NaiveDateTime
      updated: NaiveDateTime
  - name: PostContent
    fields:
      id: Uuid
      site_id: Uuid
      media_id: Option<Uuid>
      content: String
      index: u32
      created: NaiveDateTime
      updated: NaiveDateTime
  - name: PostComment
    fields:
      id: Uuid
      post_id: Uuid
      comment_id: Uuid
      created: NaiveDateTime
      updated: NaiveDateTime
  - name: Media
    fields:
      id: Uuid
      site_id: Uuid
      file_id: Uuid
      title: String
      # MediaType { IMAGE, VIDEO, AUDIO }
      type: String
      filename: String
      description: String
      created: NaiveDateTime
      updated: NaiveDateTime
  - name: Comment
    fields:
      id: Uuid
      parent_id: Option<Uuid>
      public_user_id: Uuid
      depth: u32
      content: String
      upvotes: u32
      downvotes: u32
      # CommentStatus { DRAFT, PENDING, ACTIVE, DELETED }
      status: String
      # Will use this field as order indexer
      created: NaiveDateTime
      updated: NaiveDateTime
#  - name: Listing
#    fields:
#      id: Uuid
#      title: String
#      subtitle: String
#      description: String
#      created: NaiveDateTime
#      updated: NaiveDateTime
#  - name: ListingMedia
#    fields:
#      id: Uuid
#      listing_id: Uuid
#      media_id: Uuid
#      index: u32
#      created: NaiveDateTime
#      updated: NaiveDateTime
#  - name: Review
#    fields:
#      id: Uuid
#      listing_id: Uuid
#      public_user_id: Uuid
#      rating: u32
#      content: String
#      created: NaiveDateTime
#      updated: NaiveDateTime
#  - name: ReviewComment
#    fields:
#      id: Uuid
#      review_id: Uuid
#      comment_id: Uuid
#      created: NaiveDateTime
#      updated: NaiveDateTime
